<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Site vitrine</title>
  <link rel="preload" as="image" href="img/img1.webp?v=2">
  <link rel="preload" as="image" href="img/img2.webp?v=2">
  <style>


    :root{--bg:#0f1226;--fg:#E8ECF1;--muted:#93A1B1;--accent:#7C5CFF}
    *{box-sizing:border-box}
    body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:1rem system-ui,sans-serif}
    a{color:var(--accent);text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:0 1rem}
    nav{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;border-bottom:1px solid rgba(255,255,255,.1)}
    nav .logo{font-weight:700}
    nav a{margin-left:2rem}
    .hero{padding:3rem 0;text-align:center}
    .hero h1{font-size:clamp(1.5rem,5vw,3rem);margin:0 0 1rem}
    .hero p{color:var(--muted);margin:0}
    .btn{background:var(--accent);color:#fff;padding:.75rem 1.5rem;border-radius:6px;display:inline-block;margin-top:1rem}
    .section{padding:3rem 0;border-top:1px solid rgba(255,255,255,.1)}
    h2{font-size:1.75rem;margin:0 0 2rem}
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}
    .card{background:#15193A;border-radius:8px;overflow:hidden}
    .card a{display:block}
    .card picture{display:block;aspect-ratio:4/3}
    .card img{width:100%;height:100%;object-fit:cover;display:block}
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:2rem}
    .feature{padding:1.5rem;background:#15193A;border-radius:8px}
    .feature-icon{font-size:2.5rem;margin-bottom:1rem}
    .footer{padding:2rem 0;border-top:1px solid rgba(255,255,255,.1);color:#888;text-align:center;font-size:.9rem}
    @media (max-width:768px){.gallery{grid-template-columns:repeat(2,1fr)} .features{grid-template-columns:1fr}}
  </style>
  <script defer src="js/script.js"></script>
  </head>
  <body>
    <div class="topbar">
      <div class="container nav">
        <div class="logo">Slow<span>Site</span></div>
        <div class="menu">
          <a href="#galerie">Galerie</a>
          <a href="#defis">D√©fis</a>
          <a href="#apropos">√Ä propos</a>
        </div>
      </div>
    </div>

    <div class="hero">
      <div class="container hero-inner">
        <div class="hero-text">
          <h1>Un site pour exp√©rimenter la performance</h1>
          <p>Testez, mesurez et proposez des am√©liorations.</p>
          <a class="cta" href="#defis">Voir les d√©fis</a>
        </div>
      </div>
    </div>

    <div id="galerie" class="section gallery">
      <div class="container">
        <h2>Galerie</h2>
        <div class="grid">
          <div class="card">
            <a href="img1.html">
              <picture>
                <source srcset="img/img1.webp?v=2" type="image/webp">
                <img src="img/img1.webp?v=2" alt="Image 1" width="663" height="374" fetchpriority="high" loading="eager" decoding="async" />
              </picture>
            </a>
          </div>
          <div class="card">
            <a href="img2.html">
              <picture>
                <source srcset="img/img2.webp?v=2" type="image/webp">
                <img src="img/img2.webp?v=2" alt="Image 2" width="663" height="497" fetchpriority="high" loading="eager" decoding="async" />
              </picture>
            </a>
          </div>
          <div class="card">
            <a href="img3.html">
              <picture>
                <source srcset="img/img3.webp?v=2" type="image/webp">
                <img src="img/img3.webp?v=2" alt="Image 3" width="663" height="497" loading="lazy" decoding="async" />
              </picture>
            </a>
          </div>
          <div class="card">
            <a href="img4.html">
              <picture>
                <source srcset="img/img4.webp?v=2" type="image/webp">
                <img src="img/img4.webp?v=2" alt="Image 4" width="663" height="497" loading="lazy" decoding="async" />
              </picture>
            </a>
          </div>
          <div class="card">
            <a href="img5.html">
              <picture>
                <source srcset="img/img5.webp?v=2" type="image/webp">
                <img src="img/img5.webp?v=2" alt="Image 5" width="663" height="497" loading="lazy" decoding="async" />
              </picture>
            </a>
          </div>
          <div class="card">
            <a href="img6.html">
              <picture>
                <source srcset="img/img6.webp?v=2" type="image/webp">
                <img src="img/img6.webp?v=2" alt="Image 6" width="663" height="497" loading="lazy" decoding="async" />
              </picture>
            </a>
          </div>
        </div>
      </div>
    </div>

    <div id="apropos" class="section features">
      <div class="container">
        <h2>Fonctionnalit√©s</h2>
        <div class="features-grid">
          <div class="feature">
            <div class="icon">‚ö°</div>
            <h3>Design moderne</h3>
            <p>Couleurs, ombres, grille responsive.</p>
          </div>
          <div class="feature">
            <div class="icon">üß±</div>
            <h3>Scripts</h3>
            <p>Int√©gration de scripts pour effets visuels.</p>
          </div>
          <div class="feature">
            <div class="icon">üñºÔ∏è</div>
            <h3>Images</h3>
            <p>Galerie de visuels vari√©s.</p>
          </div>
          <div class="feature">
            <div class="icon">üî†</div>
            <h3>Polices</h3>
            <p>Typographie soign√©e.</p>
          </div>
        </div>
      </div>
    </div>

    <div id="defis" class="section challenges">
      <div class="container">
        <h2>D√©fis</h2>
        <ol>
          <li>Analyser le comportement r√©seau et le rendu.</li>
          <li>Identifier les ressources critiques.</li>
          <li>Proposer des optimisations mesurables.</li>
          <li>Comparer avant/apr√®s avec des outils de mesure.</li>
          <li>Documenter la d√©marche.</li>
        </ol>
      </div>
    </div>

    <div class="footer">
      <div class="container">
        <p>TD Optimisation du temps de chargement d‚Äôun site web</p>
        <p>¬© 2025 ‚Äî BUT MMI B√©ziers - MAURIN N.</p>
      </div>
    </div>
    <!-- Load metrics widget lazily during idle or on first interaction -->
    <script>
    (function(){
      var loaded = false;
      function loadMetrics(){
        if(loaded) return; loaded = true;
        var s = document.createElement('script');
        s.src = 'js/metrics.js';
        s.async = true;
        document.body.appendChild(s);
      }
      if('requestIdleCallback' in window){
        requestIdleCallback(loadMetrics, {timeout:2000});
      } else {
        window.addEventListener('load', function(){ setTimeout(loadMetrics, 2000); });
      }
      // If the user interacts, load earlier
      ['click','keydown','mousemove','touchstart'].forEach(function(ev){
        window.addEventListener(ev, function onFirst(){ loadMetrics(); window.removeEventListener(ev, onFirst); }, {once:true});
      });
    })();
    </script>
  </body>
</html>
